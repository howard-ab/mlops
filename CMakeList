cmake_minimum_required(VERSION 3.14)
project(myalgo LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# pybind11
find_package(pybind11 REQUIRED)

# библиотекa
add_library(gray_scale STATIC src/GrayScale.cpp)

# модуль
pybind11_add_module(myalgo bindings.cpp)

# линковка
target_link_libraries(myalgo PRIVATE gray_scale)

# устанавливаем
install(TARGETS myalgo DESTINATION .)